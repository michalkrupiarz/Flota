<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
      >
    <head>
        <title>TODO supply a title</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <script src="jquery-ui.min.js"></script>
        <script src="resources/js/bootstrap.min.js"></script>
        <script src="/resources/js/validator.min.js"></script>
    </head>
    <ui:composition template="./template.xhtml">
        <ui:define name="top">

        </ui:define>    

        <ui:define name="body">

            <br/>
            Podaj dane nowego ubezpieczenia
            <hr></hr>
            <h:form>
                <br/>
                <table class="table table-hover" >
                    <tr>
                        <td class="col-md-2" style="vertical-align: middle">Nazwa pojazdu <span class="glyphicon glyphicon-star" /></td>
                        <td class="col-md-2" style="vertical-align: middle"><h:selectOneMenu value="#{ubezpieczenieDodaj.dodawaneUbezpieczenie.id_samochodu}" 
                                                                                             >
                                <f:selectItems value="#{samochodZapytania.samochodList}" var="lok"
                                               itemLabel="#{lok.nazwa}" itemValue="#{lok.nazwa}"/>
                            </h:selectOneMenu>
                        </td>
                        <td class="col-md-2" style="vertical-align: middle"><h:message  for="nazwa_pojazdu"></h:message>

                        </td>
                        <td class="col-md-2" style="vertical-align: middle">Data rozpoczecia ubezpieczenia <span class="glyphicon glyphicon-star"/></td>
                        <td class="col-md-2" style="vertical-align: middle"><h:inputText value="#{ubezpieczenieDodaj.dodawaneUbezpieczenie.data_rozpoczecia}" 
                                                                                         id= "data_rozpoczecia" 
                                                                                         required="true" 
                                                                                         requiredMessage="Nie podano daty rozpoczecia ubezpieczenia."  
                                                                                         pt:placeholder="rrrr-mm-dd"
                                                                                         validatorMessage="Podano bledną datę.">
                                <f:validateRegex pattern="[0-9].{3}[-][0-9].{1}[-][0-9].{1}" for="data_rozpoczecia"/>
                            </h:inputText>
                        </td>
                        <td class="col-md-2" style="vertical-align: middle"><h:message  for="data_rozpoczecia"></h:message>


                        </td>
                    </tr>

                    <tr>
                        <td class="col-md-2">Data zakońćzenia ubezpieczenia <span class="glyphicon glyphicon-star"/></td>
                        <td class="col-md-2"><h:inputText value="#{ubezpieczenieDodaj.dodawaneUbezpieczenie.data_zakonczenia}" 
                                                          id="data_zakonczenia" label="data_zakonczenia" 
                                                          required="true" 
                                                          requiredMessage="Nie podano daty zakonczenia ubezpieczenia"
                                                          pt:placeholder="rrrr-mm-dd"
                                                          validatorMessage="Podano bledną datę zakonczenia ubezpieczenia.">
                                <f:validateRegex pattern="[0-9].{3}[-][0-9].{1}[-][0-9].{1}" for="data_zakonczenia"/>
                            </h:inputText>
                        </td>
                        <td class="col-md-2">
                            <h:message for="data_zakonczenia"></h:message>

                        </td>

                        <td class="col-md-2">Data zawarcia pierwszej umowy.  <span class="glyphicon glyphicon-star"/></td>
                        <td class="col-md-2"><h:inputText value="#{ubezpieczenieDodaj.dodawaneUbezpieczenie.data_zawarcia}" 
                                                          id="data_zawarcia" label="data_zawarcia" 
                                                          required="true" 
                                                          requiredMessage="Nie podano daty pierwszego podpisania umowy."
                                                          pt:placeholder="rrrr-mm-dd"
                                                          validatorMessage="Podano bledną datę pierwszego podpisania umowy.">
                                <f:validateRegex pattern="[0-9].{3}[-][0-9].{1}[-][0-9].{1}" for="data_zawarcia"/>
                            </h:inputText>
                        </td>
                        <td class="col-md-2">
                            <h:message for="data_zawarcia"></h:message>

                        </td>
                    </tr>

                    <tr>
                        <td class="col-md-2" style="vertical-align: middle">Nazwa ubezpieczyciela <span class="glyphicon glyphicon-star"/></td>
                        <td class="col-md-2" style="vertical-align: middle"><h:inputText value="#{ubezpieczenieDodaj.dodawaneUbezpieczenie.ubezpieczyciel}" 
                                                                                         id= "ubezpieczyciel" 
                                                                                         required="true" 
                                                                                         validatorMessage="Podano bledną datę pierwszego podpisania umowy.">

                            </h:inputText>
                        </td>
                        <td class="col-md-2">
                            <h:message for="ubezpieczyciel"></h:message>

                        </td>
                        <td class="col-md-2" style="vertical-align: middle">Skladka ubezpieczeniowa <span class="glyphicon glyphicon-star"/></td>
                        <td class="col-md-2" style="vertical-align: middle"><h:inputText value="#{ubezpieczenieDodaj.dodawaneUbezpieczenie.skladka}" 
                                                                                         id= "skladka" 
                                                                                         required="true" 
                                                                                         validatorMessage="Podano bledna skladke.">

                                <f:validateRegex pattern="[0-9]+[.][0-9][0-9]" for="skladka"/>
                            </h:inputText>
                        </td>
                        <td class="col-md-2">
                            <h:message for="skladka"></h:message>

                        </td>
                    </tr>

                    <tr>
                        <td class="col-md-2" style="vertical-align: middle">Pracownik zawierajacy ubezpieczenie <span class="glyphicon glyphicon-star" /></td>
                        <td class="col-md-2" style="vertical-align: middle"><h:selectOneMenu value="#{ubezpieczenieDodaj.dodawaneUbezpieczenie.id_operator_zawierajacy}" 
                                                                                             id="operator" 
                                                                                             required="true" 
                                                                                             requiredMessage="Nie podano pracownika zawierajacego ubezpieczenie.">
                                <f:selectItems value="#{pracownikZapytania.listaPracownik}" var="tpl"
                                               itemLabel="#{tpl.imieNazwisko}" itemValue="#{tpl.imieNazwisko}"/>
                            </h:selectOneMenu>
                        </td>
                        <td class="col-md-2" style="vertical-align: middle"><h:message  for="operator"></h:message>

                        </td>
                        
                        
                        
                       <td class="col-md-2" style="vertical-align: middle">Notatka <span class="glyphicon glyphicon-star" /></td>
                       <td class="col-md-2" style="vertical-align: middle"><h:inputTextarea value="#{ubezpieczenieDodaj.dodawaneUbezpieczenie.notatka}" 
                                                                                         id= "notatka" 
                                                                                         >

                               
                           </h:inputTextarea>>
                        </td>
                        <td class="col-md-2" style="vertical-align: middle"><h:message  for="notatka"></h:message>

                        </td>
                    </tr>

                    <tr>
                         <td class="col-md-2" style="vertical-align: middle">Numer polisy<span class="glyphicon glyphicon-star"/></td>
                         <td class="col-md-2" style="vertical-align: middle"><h:inputText value="#{ubezpieczenieDodaj.dodawaneUbezpieczenie.numer_polisy}" 
                                                                                         id= "numer_polisy" 
                                                                                         required="true" 
                                                                                         validatorMessage="Nie podano numeru polisy.">

                               
                            </h:inputText>
                        </td>
                        <td class="col-md-2">
                            <h:message for="numer_polisy"></h:message>

                        </td>
                         <td class="col-md-2" style="vertical-align: middle">Nazwa sprzedawcy<span class="glyphicon glyphicon-star"/></td>
                         <td class="col-md-2" style="vertical-align: middle"><h:inputText value="#{ubezpieczenieDodaj.dodawaneUbezpieczenie.nazwa_sprzedawcy}" 
                                                                                         id= "nazwa_sprzedawcy" 
                                                                                         required="true" 
                                                                                         validatorMessage="Nie podano nazwy sprzedawcy.">

                               
                            </h:inputText>
                        </td>
                        <td class="col-md-2">
                            <h:message for="nazwa_srzedawcy"></h:message>

                        </td>
                    </tr>

                    <tr>
                         <td class="col-md-2" style="vertical-align: middle">Kontakt <span class="glyphicon glyphicon-star"/></td>
                         <td class="col-md-2" style="vertical-align: middle"><h:inputText value="#{ubezpieczenieDodaj.dodawaneUbezpieczenie.kontakt}" 
                                                                                         id= "kontakt" 
                                                                                         required="true" 
                                                                                         validatorMessage="Nie podano kontaktu.">

                               
                            </h:inputText>
                        </td>
                        <td class="col-md-2">
                            <h:message for="kontakt"></h:message>

                        </td>
                        
                    </tr>

                   
                </table>
                <hr></hr>


                <Button type="button" class="btn btn-default btn-sm">
                    <h:commandButton value="Dodaj Samochod" action="#{ubezpieczenieDodaj.dodajUbezpieczenie()}"  class="btn-default btn-sm">
                        <span class="glyphicon glyphicon-backward"></span></h:commandButton> 
                </Button>
            </h:form>
        </ui:define>
        <ui:define name="bottom">
            <h:form>
                <Button type="button" class="btn btn-default btn-sm">
                    <h:commandButton value="Powrot" action="#{wyswietlSamochod.pokazWszystkieSamochody()}"  class="btn-default btn-sm">
                        <span class="glyphicon glyphicon-backward"></span></h:commandButton> 
                </Button>
            </h:form>


        </ui:define>  

    </ui:composition>
</html>
